<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/main.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&family=Jost&family=Montserrat:wght@900&display=swap" rel="stylesheet">

    <script src="https://telegram.org/js/telegram-web-app.js?1"></script>
    <title>UmmaCrypto</title>
</head>
<body class="body">
    <div class="box">
        <div class="item">
            <div class="item-text">
                <h3 class="akad">АКАДЕМИЯ</h3>
                <div class="navBox">
                    <h1 class="crypto">CRYPTO</h1>
                    <h1 class="halal">HALAL</h1>
                </nav>
            </div>
            <div class="animation">
                <center><lottie-player src="https://assets6.lottiefiles.com/packages/lf20_ZBDdP3/data.json"  background="transparent"  speed="1"  style="margin-bottom: 40px; margin-top: 30px; width: 274px; height: 176px;"  loop autoplay></lottie-player></center>
            </div>
            <div id="item-sl" class="item-slogan">
                <h4>Зарабатывай много. <br>Обучайся у лучших.</h4>
            </div>        
            <div id="support_btn" class="support_btn">
                <a class="btn" href="https://t.me/cryptohalal_ru_bot">НАПИСАТЬ</a>
            </div>
        </div>
        <div class="viewport_border"></div>
        <div class="viewport_stable_border"></div>
    </div>
    
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://webappcontent.telegram.org/js/jquery.min.js"></script>

    <script>
        Telegram.WebApp.ready();
        let supBTN = document.getElementById("support_btn");
        let slogan = document.getElementById("item-sl");

        function round(val, d) {
            var k = Math.pow(10, d || 0);
            return Math.round(val * k) / k;
        }

        const screenHeight = window.screen.height

        function setViewportData() {
            $('.viewport_border').attr('text', window.innerWidth + ' x ' + round(Telegram.WebApp.viewportHeight, 2));
            $('.viewport_stable_border').attr('text', window.innerWidth + ' x ' + round(Telegram.WebApp.viewportStableHeight, 2) + ' | is_expanded: ' + (Telegram.WebApp.isExpanded ? 'true' : 'false'));
            $('.body').attr('style', '' + (Telegram.WebApp.isExpanded ? "background-image: url(img/lightFull.png); background-size: 100% 120vh;" : "background-image: url(img/light.png);"));
            $('.box').attr('style', '' + (Telegram.WebApp.isExpanded ? 'padding-top: 50px;' : 'padding-top: 0;'));
            $('.animation').attr('style', '' + (Telegram.WebApp.isExpanded ? 'margin-top: 100px; margin-bottom: 50px;' : 'margin-top: 0px;'));

            if (screenHeight > 800){
                $('.support_btn').attr('style', '' + (Telegram.WebApp.isExpanded ? 'margin-top: 180px;' : 'margin-top: 0px;'));
            }
            else if (screenHeight > 760){
                $('.support_btn').attr('style', '' + (Telegram.WebApp.isExpanded ? 'margin-top: 120px;' : 'margin-top: 0px;'));
            }
            else {
                $('.support_btn').attr('style', '' + (Telegram.WebApp.isExpanded ? 'margin-top: 80px;' : 'margin-top: 0px;'));
            }
            
            
        }

        Telegram.WebApp.onEvent('viewportChanged', setViewportData);
        setViewportData();

    </script>
</body>
</html>
